/*
-------------------------------------------------------------------------------
11. Form elements [hm-11]
-------------------------------------------------------------------------------
*/

/*
Fieldsets, form-groups, form-rows and cols, labels, legends, form-text, 
invalid-feedback, inline-form
*/

$label-margin-bottom: 0.6rem;
$form-group-margin-bottom: 2rem;
$form-col-horizontal-padding: 1rem;
$form-text-padding-top: 0.8rem;
$invalid-feedback-padding-top: 0.8rem;
$form-inline-horizontal-margin: 1rem;

fieldset {
  margin-bottom: 2rem;
  border: var(--border-width) solid var(--border-color);
  background: white;
  padding: 1rem 2rem;
  border-radius: var(--border-radius);

  legend {
    font-weight: bold;
    color: var(--blue-color);
    /* little more space */
    padding: 0 0.5rem;
    margin: 0 -0.5rem;
    font-size: larger;
  }

  .form-group:last-child {
    margin-bottom: 1rem;
  }
}

label {
  display: inline-block;
  margin-bottom: $label-margin-bottom;
}

label.required:after {
  content: "*";
  color: var(--danger-color);
  margin-left: 0.3rem;
}

legend {
  display: block;
  margin-bottom: $label-margin-bottom;
}

.form-group {
  margin-bottom: $form-group-margin-bottom;
}

/* Form rows */

.form-row {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  margin-bottom: $form-group-margin-bottom;
}

/* Form rows with equal spacing */

.form-row.row-eq-spacing>[class^="col"] {
  padding-left: $form-col-horizontal-padding;
  padding-right: $form-col-horizontal-padding;
}

.form-row.row-eq-spacing>[class^="col"]:first-child {
  padding-left: 0;
}

.form-row.row-eq-spacing>[class^="col"]:last-child {
  padding-right: 0;
}

/* Adjustments for small screens and up (> 576px) */

@include respond-above(sm) {
  .form-row.row-eq-spacing.sm:not(.row-eq-spacing)>[class^="col"] {
    padding-left: $form-col-horizontal-padding;
    padding-right: $form-col-horizontal-padding;
  }

  .form-row.row-eq-spacing.sm:not(.row-eq-spacing)>[class^="col"]:first-child {
    padding-left: 0;
  }

  .form-row.row-eq-spacing.sm:not(.row-eq-spacing)>[class^="col"]:last-child {
    padding-right: 0;
  }
}

@include respond-below(sm) {
  .form-row.row-eq-spacing.sm:not(.row-eq-spacing)>[class^="col"]:not(:last-child) {
    margin-bottom: $form-group-margin-bottom;
  }
}

/* Adjustments for medium screens and up (> 768px) */

@include respond-above(md) {
  .form-row.row-eq-spacing-md:not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"] {
    padding-left: $form-col-horizontal-padding;
    padding-right: $form-col-horizontal-padding;
  }

  .form-row.row-eq-spacing-md:not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:first-child {
    padding-left: 0;
  }

  .form-row.row-eq-spacing-md:not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:last-child {
    padding-right: 0;
  }
}

@include respond-below(md) {
  .form-row.row-eq-spacing-md:not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:not(:last-child) {
    margin-bottom: $form-group-margin-bottom;
  }
}

/* Adjustments for large screens and up (> 992px) */

@include respond-above(lg) {
  .form-row.row-eq-spacing-lg:not(.row-eq-spacing-md):not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"] {
    padding-left: $form-col-horizontal-padding;
    padding-right: $form-col-horizontal-padding;
  }

  .form-row.row-eq-spacing-lg:not(.row-eq-spacing-md):not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:first-child {
    padding-left: 0;
  }

  .form-row.row-eq-spacing-lg:not(.row-eq-spacing-md):not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:last-child {
    padding-right: 0;
  }
}

@include respond-below(lg) {
  .form-row.row-eq-spacing-lg:not(.row-eq-spacing-md):not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:not(:last-child) {
    margin-bottom: $form-group-margin-bottom;
  }
}

/* Adjustments for extra large screens and up (> 1200px) */

@include respond-above(xl) {
  .form-row.row-eq-spacing-xl:not(.row-eq-spacing-lg):not(.row-eq-spacing-md):not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"] {
    padding-left: $form-col-horizontal-padding;
    padding-right: $form-col-horizontal-padding;
  }

  .form-row.row-eq-spacing-xl:not(.row-eq-spacing-lg):not(.row-eq-spacing-md):not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:first-child {
    padding-left: 0;
  }

  .form-row.row-eq-spacing-xl:not(.row-eq-spacing-lg):not(.row-eq-spacing-md):not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:last-child {
    padding-right: 0;
  }
}

@include respond-below(xl) {
  .form-row.row-eq-spacing-xl:not(.row-eq-spacing-lg):not(.row-eq-spacing-md):not(.row-eq-spacing.sm):not(.row-eq-spacing)>[class^="col"]:not(:last-child) {
    margin-bottom: $form-group-margin-bottom;
  }
}

/* feedback */

.invalid-feedback {
  color: var(--danger-color);
  font-size: var(--base-font-size);
  padding-top: $invalid-feedback-padding-top;
  padding-bottom: $invalid-feedback-padding-top;
}

/* Inline form */

.form-inline,
.form-inline .form-group {
  display: -ms-flexbox;
  display: flex;
  -ms-flex-flow: row wrap;
  flex-flow: row wrap;
  -ms-flex-align: center;
  align-items: center;
}

.form-inline .form-group {
  width: 100%;
}

.form-inline>.form-control,
.form-inline>.input-group,
.form-inline .form-group>.form-control,
.form-inline .form-group>.input-group {
  position: relative;
  -ms-flex: 1 1 0%;
  flex: 1 1 0%;
  min-width: 0;
}

.form-inline>label,
.form-inline>.custom-control,
.form-inline>.form-text,
.form-inline>.invalid-feedback,
.form-inline .form-group>label,
.form-inline .form-group>.custom-control,
.form-inline .form-group>.form-text,
.form-inline .form-group>.invalid-feedback {
  display: -ms-flexbox;
  display: flex;
  -ms-flex-align: center;
  align-items: center;
  min-width: 0;
}

.form-inline>label,
.form-inline>.form-text,
.form-inline>.invalid-feedback,
.form-inline .form-group>label,
.form-inline .form-group>.form-text,
.form-inline .form-group>.invalid-feedback {
  margin: 0;
  padding: 0;
  border: none;
  white-space: nowrap;
}

.form-inline>.form-control:not(:last-child),
.form-inline>.input-group:not(:last-child),
.form-inline>label:not(:last-child),
.form-inline>.custom-control,
.form-inline>.btn:not(:last-child),
.form-inline>a.btn:not(:last-child),
.form-inline>.form-text:not(:last-child),
.form-inline>.invalid-feedback:not(:last-child),
.form-inline .form-group>.form-control:not(:last-child),
.form-inline .form-group>.input-group:not(:last-child),
.form-inline .form-group>label:not(:last-child),
.form-inline .form-group>.custom-control,
.form-inline .form-group>.btn:not(:last-child),
.form-inline .form-group>a.btn:not(:last-child),
.form-inline .form-group>.form-text:not(:last-child),
.form-inline .form-group>.invalid-feedback:not(:last-child) {
  margin-right: $form-inline-horizontal-margin;
}

/* Inline form for small screens and up (> 576px) */

@include respond-above(sm) {

  .form-inline-sm,
  .form-inline-sm .form-group {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-flow: row wrap;
    flex-flow: row wrap;
    -ms-flex-align: center;
    align-items: center;
  }

  .form-inline-sm .form-group {
    width: 100%;
  }

  .form-inline-sm>.form-control,
  .form-inline-sm>.input-group,
  .form-inline-sm .form-group>.form-control,
  .form-inline-sm .form-group>.input-group {
    position: relative;
    -ms-flex: 1 1 0%;
    flex: 1 1 0%;
    min-width: 0;
  }

  .form-inline-sm>label,
  .form-inline-sm>.custom-control,
  .form-inline-sm>.form-text,
  .form-inline-sm>.invalid-feedback,
  .form-inline-sm .form-group>label,
  .form-inline-sm .form-group>.custom-control,
  .form-inline-sm .form-group>.form-text,
  .form-inline-sm .form-group>.invalid-feedback {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-align: center;
    align-items: center;
    min-width: 0;
  }

  .form-inline-sm>label,
  .form-inline-sm>.form-text,
  .form-inline-sm>.invalid-feedback,
  .form-inline-sm .form-group>label,
  .form-inline-sm .form-group>.form-text,
  .form-inline-sm .form-group>.invalid-feedback {
    margin: 0;
    padding: 0;
    border: none;
    white-space: nowrap;
  }

  .form-inline-sm>.form-control:not(:last-child),
  .form-inline-sm>.input-group:not(:last-child),
  .form-inline-sm>label:not(:last-child),
  .form-inline-sm>.custom-control,
  .form-inline-sm>.btn:not(:last-child),
  .form-inline-sm>a.btn:not(:last-child),
  .form-inline-sm>.form-text:not(:last-child),
  .form-inline-sm>.invalid-feedback:not(:last-child),
  .form-inline-sm .form-group>.form-control:not(:last-child),
  .form-inline-sm .form-group>.input-group:not(:last-child),
  .form-inline-sm .form-group>label:not(:last-child),
  .form-inline-sm .form-group>.custom-control,
  .form-inline-sm .form-group>.btn:not(:last-child),
  .form-inline-sm .form-group>a.btn:not(:last-child),
  .form-inline-sm .form-group>.form-text:not(:last-child),
  .form-inline-sm .form-group>.invalid-feedback:not(:last-child) {
    margin-right: $form-inline-horizontal-margin;
  }
}

@include respond-below(sm) {

  .form-inline-sm>.form-control:not(:last-child),
  .form-inline-sm>.input-group:not(:last-child),
  .form-inline-sm>.custom-control,
  .form-inline-sm>.btn:not(:last-child),
  .form-inline-sm>a.btn:not(:last-child),
  .form-inline-sm .form-group>.form-control:not(:last-child),
  .form-inline-sm .form-group>.input-group:not(:last-child),
  .form-inline-sm .form-group>.custom-control,
  .form-inline-sm .form-group>.btn:not(:last-child),
  .form-inline-sm .form-group>a.btn:not(:last-child) {
    margin-bottom: $form-group-margin-bottom;
  }
}

/* Inline form for medium screens and up (> 768px) */

@include respond-above(md) {

  .form-inline-md,
  .form-inline-md .form-group {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-flow: row wrap;
    flex-flow: row wrap;
    -ms-flex-align: center;
    align-items: center;
  }

  .form-inline-md .form-group {
    width: 100%;
  }

  .form-inline-md>.form-control,
  .form-inline-md>.input-group,
  .form-inline-md .form-group>.form-control,
  .form-inline-md .form-group>.input-group {
    position: relative;
    -ms-flex: 1 1 0%;
    flex: 1 1 0%;
    min-width: 0;
  }

  .form-inline-md>label,
  .form-inline-md>.custom-control,
  .form-inline-md>.form-text,
  .form-inline-md>.invalid-feedback,
  .form-inline-md .form-group>label,
  .form-inline-md .form-group>.custom-control,
  .form-inline-md .form-group>.form-text,
  .form-inline-md .form-group>.invalid-feedback {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-align: center;
    align-items: center;
    min-width: 0;
  }

  .form-inline-md>label,
  .form-inline-md>.form-text,
  .form-inline-md>.invalid-feedback,
  .form-inline-md .form-group>label,
  .form-inline-md .form-group>.form-text,
  .form-inline-md .form-group>.invalid-feedback {
    margin: 0;
    padding: 0;
    border: none;
    white-space: nowrap;
  }

  .form-inline-md>.form-control:not(:last-child),
  .form-inline-md>.input-group:not(:last-child),
  .form-inline-md>label:not(:last-child),
  .form-inline-md>.custom-control,
  .form-inline-md>.btn:not(:last-child),
  .form-inline-md>a.btn:not(:last-child),
  .form-inline-md>.form-text:not(:last-child),
  .form-inline-md>.invalid-feedback:not(:last-child),
  .form-inline-md .form-group>.form-control:not(:last-child),
  .form-inline-md .form-group>.input-group:not(:last-child),
  .form-inline-md .form-group>label:not(:last-child),
  .form-inline-md .form-group>.custom-control,
  .form-inline-md .form-group>.btn:not(:last-child),
  .form-inline-md .form-group>a.btn:not(:last-child),
  .form-inline-md .form-group>.form-text:not(:last-child),
  .form-inline-md .form-group>.invalid-feedback:not(:last-child) {
    margin-right: $form-inline-horizontal-margin;
  }
}

@include respond-below(md) {

  .form-inline-md>.form-control:not(:last-child),
  .form-inline-md>.input-group:not(:last-child),
  .form-inline-md>.custom-control,
  .form-inline-md>.btn:not(:last-child),
  .form-inline-md>a.btn:not(:last-child),
  .form-inline-md .form-group>.form-control:not(:last-child),
  .form-inline-md .form-group>.input-group:not(:last-child),
  .form-inline-md .form-group>.custom-control,
  .form-inline-md .form-group>.btn:not(:last-child),
  .form-inline-md .form-group>a.btn:not(:last-child) {
    margin-bottom: $form-group-margin-bottom;
  }
}

/* Inline form for large screens and up (> 992px) */

@include respond-above(lg) {

  .form-inline-lg,
  .form-inline-lg .form-group {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-flow: row wrap;
    flex-flow: row wrap;
    -ms-flex-align: center;
    align-items: center;
  }

  .form-inline-lg .form-group {
    width: 100%;
  }

  .form-inline-lg>.form-control,
  .form-inline-lg>.input-group,
  .form-inline-lg .form-group>.form-control,
  .form-inline-lg .form-group>.input-group {
    position: relative;
    -ms-flex: 1 1 0%;
    flex: 1 1 0%;
    min-width: 0;
  }

  .form-inline-lg>label,
  .form-inline-lg>.custom-control,
  .form-inline-lg>.form-text,
  .form-inline-lg>.invalid-feedback,
  .form-inline-lg .form-group>label,
  .form-inline-lg .form-group>.custom-control,
  .form-inline-lg .form-group>.form-text,
  .form-inline-lg .form-group>.invalid-feedback {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-align: center;
    align-items: center;
    min-width: 0;
  }

  .form-inline-lg>label,
  .form-inline-lg>.form-text,
  .form-inline-lg>.invalid-feedback,
  .form-inline-lg .form-group>label,
  .form-inline-lg .form-group>.form-text,
  .form-inline-lg .form-group>.invalid-feedback {
    margin: 0;
    padding: 0;
    border: none;
    white-space: nowrap;
  }

  .form-inline-lg>.form-control:not(:last-child),
  .form-inline-lg>.input-group:not(:last-child),
  .form-inline-lg>label:not(:last-child),
  .form-inline-lg>.custom-control,
  .form-inline-lg>.btn:not(:last-child),
  .form-inline-lg>a.btn:not(:last-child),
  .form-inline-lg>.form-text:not(:last-child),
  .form-inline-lg>.invalid-feedback:not(:last-child),
  .form-inline-lg .form-group>.form-control:not(:last-child),
  .form-inline-lg .form-group>.input-group:not(:last-child),
  .form-inline-lg .form-group>label:not(:last-child),
  .form-inline-lg .form-group>.custom-control,
  .form-inline-lg .form-group>.btn:not(:last-child),
  .form-inline-lg .form-group>a.btn:not(:last-child),
  .form-inline-lg .form-group>.form-text:not(:last-child),
  .form-inline-lg .form-group>.invalid-feedback:not(:last-child) {
    margin-right: $form-inline-horizontal-margin;
  }
}

@include respond-below(lg) {

  .form-inline-lg>.form-control:not(:last-child),
  .form-inline-lg>.input-group:not(:last-child),
  .form-inline-lg>.custom-control,
  .form-inline-lg>.btn:not(:last-child),
  .form-inline-lg>a.btn:not(:last-child),
  .form-inline-lg .form-group>.form-control:not(:last-child),
  .form-inline-lg .form-group>.input-group:not(:last-child),
  .form-inline-lg .form-group>.custom-control,
  .form-inline-lg .form-group>.btn:not(:last-child),
  .form-inline-lg .form-group>a.btn:not(:last-child) {
    margin-bottom: $form-group-margin-bottom;
  }
}

/* Inline form for extra large screens and up (> 1200px) */

@include respond-above(xl) {

  .form-inline-xl,
  .form-inline-xl .form-group {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-flow: row wrap;
    flex-flow: row wrap;
    -ms-flex-align: center;
    align-items: center;
  }

  .form-inline-xl .form-group {
    width: 100%;
  }

  .form-inline-xl>.form-control,
  .form-inline-xl>.input-group,
  .form-inline-xl .form-group>.form-control,
  .form-inline-xl .form-group>.input-group {
    position: relative;
    -ms-flex: 1 1 0%;
    flex: 1 1 0%;
    min-width: 0;
  }

  .form-inline-xl>label,
  .form-inline-xl>.custom-control,
  .form-inline-xl>.form-text,
  .form-inline-xl>.invalid-feedback,
  .form-inline-xl .form-group>label,
  .form-inline-xl .form-group>.custom-control,
  .form-inline-xl .form-group>.form-text,
  .form-inline-xl .form-group>.invalid-feedback {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-align: center;
    align-items: center;
    min-width: 0;
  }

  .form-inline-xl>label,
  .form-inline-xl>.form-text,
  .form-inline-xl>.invalid-feedback,
  .form-inline-xl .form-group>label,
  .form-inline-xl .form-group>.form-text,
  .form-inline-xl .form-group>.invalid-feedback {
    margin: 0;
    padding: 0;
    border: none;
    white-space: nowrap;
  }

  .form-inline-xl>.form-control:not(:last-child),
  .form-inline-xl>.input-group:not(:last-child),
  .form-inline-xl>label:not(:last-child),
  .form-inline-xl>.custom-control,
  .form-inline-xl>.btn:not(:last-child),
  .form-inline-xl>a.btn:not(:last-child),
  .form-inline-xl>.form-text:not(:last-child),
  .form-inline-xl>.invalid-feedback:not(:last-child),
  .form-inline-xl .form-group>.form-control:not(:last-child),
  .form-inline-xl .form-group>.input-group:not(:last-child),
  .form-inline-xl .form-group>label:not(:last-child),
  .form-inline-xl .form-group>.custom-control,
  .form-inline-xl .form-group>.btn:not(:last-child),
  .form-inline-xl .form-group>a.btn:not(:last-child),
  .form-inline-xl .form-group>.form-text:not(:last-child),
  .form-inline-xl .form-group>.invalid-feedback:not(:last-child) {
    margin-right: $form-inline-horizontal-margin;
  }
}

@include respond-below(xl) {

  .form-inline-xl>.form-control:not(:last-child),
  .form-inline-xl>.input-group:not(:last-child),
  .form-inline-xl>.custom-control,
  .form-inline-xl>.btn:not(:last-child),
  .form-inline-xl>a.btn:not(:last-child),
  .form-inline-xl .form-group>.form-control:not(:last-child),
  .form-inline-xl .form-group>.input-group:not(:last-child),
  .form-inline-xl .form-group>.custom-control,
  .form-inline-xl .form-group>.btn:not(:last-child),
  .form-inline-xl .form-group>a.btn:not(:last-child) {
    margin-bottom: $form-group-margin-bottom;
  }
}

/* Inputs */

$input-height: 3.2rem;
$input-horizontal-padding: 0.8rem;

$small-input-height: 2.6rem;
$small-input-font-size: 1.2rem;

$large-input-height: 4rem;
$large-input-font-size: 1.8rem;

$input-bg-color: white;
$input-border-color: var(--border-color);
$input-box-shadow: $button-box-shadow;
$input-box-shadow-focus: 0 0 0 0.2rem $primary-color-60;
$input-placeholder-text-color: rgba(0, 0, 0, 0.35);

$input-invalid-box-shadow-focus: 0 0 0 0.2rem rgba(245, 34, 45, 0.6);

.form-control {
  display: block;
  width: 100%;
  height: $input-height;
  padding-left: $input-horizontal-padding;
  padding-right: $input-horizontal-padding;
  color: var(--text-color);
  background-color: $input-bg-color;
  border: 1px solid $input-border-color;
  border-radius: var(--border-radius);
  -moz-box-shadow: $input-box-shadow;
  -webkit-box-shadow: $input-box-shadow;
  box-shadow: $input-box-shadow;
  /* Removes the default styles on some devices. */
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;

  &.small {
    height: $small-input-height;
    padding-left: $input-horizontal-padding;
    padding-right: $input-horizontal-padding;
    font-size: $small-input-font-size;
  }

  &.large {
    height: $large-input-height;
    padding-left: $input-horizontal-padding;
    padding-right: $input-horizontal-padding;
    font-size: $large-input-font-size;
  }

  &:hover {
    color: var(--text-color);
    background-color: $input-bg-color;
    // border-color: rgba(0, 0, 0, 0.3);
    -moz-box-shadow: var(--box-shadow-long);
    -webkit-box-shadow: var(--box-shadow-long);
    box-shadow: var(--box-shadow-long);
  }

  &:focus {
    color: var(--text-color);
    background-color: $input-bg-color;
    // border-color: $input-border-color;
    -moz-box-shadow: $input-box-shadow-focus;
    -webkit-box-shadow: $input-box-shadow-focus;
    box-shadow: $input-box-shadow-focus;
    outline: none;
  }

  &.disabled,
  &:disabled,
  &.disabled:hover,
  &:disabled:hover {
    /*
        The :disabled selector must still be added to the input field for the 
        forms to work as intended. Moreover, since focusing on an input with the 
        :disabled selector is impossible, the :focus styles are not overridden 
        (along with the :focus box shadows).
        */
    cursor: not-allowed;
    opacity: 0.6;
    color: var(--text-color);
    background-color: var(--body-color);
    border-color: $input-border-color;
  }
}

textarea.form-control {
  max-width: 100%;
  min-height: 7rem;
  height: auto;
  padding: $input-horizontal-padding;
  line-height: $base-line-height;

  &.small {
    min-height: 5rem;
    padding: $input-horizontal-padding;
  }

  &.large {
    min-height: 10rem;
    padding: $input-horizontal-padding;
  }
}

::-webkit-input-placeholder {
  /* Edge */
  color: $input-placeholder-text-color;
}

:-ms-input-placeholder {
  /* Internet Explorer 10-11 */
  color: $input-placeholder-text-color;
}

::placeholder {
  color: $input-placeholder-text-color;
}

/* Inputs invalid (with errors) */

.form-group.is-invalid .form-control,
.form-control.is-invalid,
.form-group.is-invalid .form-control:hover,
.form-control.is-invalid:hover,
.form-group.is-invalid .form-control:focus,
.form-control.is-invalid:focus {
  color: var(--text-color);
  background-color: $input-bg-color;
  border-color: var(--danger-color);
  -moz-box-shadow: 0 0.2rem 0 var(--danger-color-30);
  -webkit-box-shadow: 0 0.2rem 0 var(--danger-color-30);
  box-shadow: 0 0.2rem 0 var(--danger-color-30);
}

.form-group.is-invalid .form-control:focus,
.form-control.is-invalid:focus {
  outline: none;
}

.form-group.is-invalid .form-control::-webkit-input-placeholder {
  /* Edge */
  color: $input-placeholder-text-color;
}

.form-group.is-invalid .form-control:-ms-input-placeholder {
  /* Internet Explorer 10-11 */
  color: $input-placeholder-text-color;
}

.form-group.is-invalid .form-control::placeholder {
  color: $input-placeholder-text-color;
}

.form-control.is-invalid::-webkit-input-placeholder {
  /* Edge */
  color: $input-placeholder-text-color;
}

.form-control.is-invalid:-ms-input-placeholder {
  /* Internet Explorer 10-11 */
  color: $input-placeholder-text-color;
}

.form-control.is-invalid::placeholder {
  color: $input-placeholder-text-color;
}

.form-control.is-valid,
.form-control.is-valid:hover,
.form-group.is-valid .form-control,
.form-group.is-valid .form-control:hover {
  color: rgba(0, 0, 0, 0.85);
  background-color: #fff;
  border-color: var(--success-color);
  -moz-box-shadow: 0 0.2rem 0 var(--success-color-30);
  -webkit-box-shadow: 0 0.2rem 0 var(--success-color-30);
  box-shadow: 0 0.2rem 0 var(--success-color-30);
}

/* Selects */

$select-bg-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAI9JREFUeNpiZACCyMjIBCDVD8SOy5cvv8BAAgDqNQBS+4G4EKh3ASPUsPlQ+Q+kGIpkmABUKJEJ6jIYAEnshyok1TAQ6AcZ6Ah1GdGG4jAM7DtGQgrQvU9ILSOxColVw0is7VA2QV8wkhA+DMQECSMJgc5AyDCcBhIwFG9aZSQxrRFM+IwkJGAGYnIRQIABACQuXCKovu2mAAAAAElFTkSuQmCC);

select.form-control:not([multiple]) {
  cursor: pointer;
  background-image: $select-bg-image;
  background-size: 1rem;
  background-repeat: no-repeat;
  background-position: calc(100% - 1rem) center;
  padding-right: 3.6rem;
}

@media screen and (-ms-high-contrast: active),
(-ms-high-contrast: none) {

  /*
    This hack resets the select boxes to their defaults on IE, because it is 
    not possible to remove the default dropdown arrow.
    */
  select.form-control:not([multiple]) {
    background-image: none;
    background-size: auto;
    background-repeat: initial;
    background-position: 0% 0%;
    padding-right: 0;
  }
}

select.form-control[multiple] {
  overflow: auto;
  height: auto;
  padding: $input-horizontal-padding;
}

select.form-control.sm[multiple] {
  padding: $input-horizontal-padding;
}

select.form-control.lg[multiple] {
  padding: $input-horizontal-padding;
}

select.form-control[multiple]>option:not(:checked) {
  color: var(--text-color);
}

select.form-control[multiple]>option:disabled {
  color: $muted-text-color;
}

/* Remove number arrows */

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  /* in mozilla */
  -moz-appearance: textfield;
}

/* Checkbox */

$checkbox-width-height: 1.8rem;

$checkbox-bg-color: #ffffff;
$checkbox-border-color: var(--border-color);
$checkbox-box-shadow-checked-focus: 0 0 0 0.3rem $primary-color-30;
$checkbox-checkmark-transform: rotate(45deg);

.custom-checkbox {
  display: block;
  position: relative;
  line-height: $checkbox-width-height;
}

.custom-checkbox input[type="checkbox"] {
  /* Hide the default */
  position: absolute;
  opacity: 0;
  height: 0;
  width: 0;
}

.custom-checkbox label {
  display: inline-block;
  margin-bottom: 0;
  padding-left: 2.5rem;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.custom-checkbox label.blank {
  padding-left: $checkbox-width-height;
}

.custom-checkbox label:before {
  content: "";
  display: inline-block;
  position: absolute;
  height: $checkbox-width-height;
  width: $checkbox-width-height;
  top: 0;
  left: 0;
  background-color: $checkbox-bg-color;
  border: 1px solid $checkbox-border-color;
  border-radius: var(--border-radius);
}

.custom-checkbox input[type="checkbox"]:hover~label:before {
  background-color: $checkbox-bg-color;
  border-color: rgba(0, 0, 0, 0.4);
}

.custom-checkbox input[type="checkbox"]:focus~label:before {
  border-color: $input-border-color;
  -moz-box-shadow: $input-box-shadow-focus;
  -webkit-box-shadow: $input-box-shadow-focus;
  box-shadow: $input-box-shadow-focus;
}

.custom-checkbox input[type="checkbox"]:checked~label:before {
  background-color: var(--secondary-color);
  border-color: var(--secondary-color);
}

.custom-checkbox input[type="checkbox"]:checked:focus~label:before {
  border-color: var(--secondary-color);
  -moz-box-shadow: $checkbox-box-shadow-checked-focus;
  -webkit-box-shadow: $checkbox-box-shadow-checked-focus;
  box-shadow: $checkbox-box-shadow-checked-focus;
}

.custom-checkbox label:after {
  content: "";
  position: absolute;
  display: none;
  left: 0.6rem;
  top: 0.3rem;
  width: 0.6rem;
  height: 1rem;
  border: solid #ffffff;
  border-width: 0 0.2rem 0.2rem 0;
  -webkit-transform: $checkbox-checkmark-transform;
  -ms-transform: $checkbox-checkmark-transform;
  transform: $checkbox-checkmark-transform;
}

.custom-checkbox input[type="checkbox"]:checked~label:after {
  display: block;
}

.custom-checkbox input[type="checkbox"]:disabled~label {
  opacity: 0.6;
  cursor: not-allowed;
}

.custom-checkbox input[type="checkbox"]:disabled~label:before,
.custom-checkbox input[type="checkbox"]:hover:disabled~label:before {
  background-color: $checkbox-bg-color;
  border-color: $checkbox-border-color;
}

.custom-checkbox input[type="checkbox"]:disabled:checked~label:before,
.custom-checkbox input[type="checkbox"]:hover:disabled:checked~label:before {
  background-color: var(--secondary-color);
  border-color: var(--secondary-color);
}


// checkbox badge, for e.g. search column select
.checkbox-badge {
  display: inline-flex;
  align-items: center;
}

.checkbox-badge label {
  margin-bottom: .5rem;
  background: white;
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  padding: .5rem;
  padding-left: 3rem;
}

.checkbox-badge label:before {
  top: .5rem;
  left: .5rem;
}

.checkbox-badge label:after {
  left: 1.1rem;
  top: 0.8rem;
}

.checkbox-badge input[type="checkbox"]:checked~label {
  background-color: var(--secondary-color-20);
}


/* Radio */

$radio-border-radius: 50%;
$radio-width-height: 1.6rem;

$radio-bg-color: #ffffff;
$radio-border-color: rgba(0, 0, 0, 0.3);

$radio-checkmark-width-height: 0.6rem;

.custom-radio {
  display: block;
  position: relative;
  line-height: $radio-width-height;
}

.form-group .custom-radio {
  margin: 0.8rem 0 0 0;
}

.custom-radio input[type="radio"] {
  /* Hide the default */
  position: absolute;
  opacity: 0;
  height: 0;
  width: 0;
}

.custom-radio label {
  display: inline-block;
  margin-bottom: 0;
  padding-left: 2.5rem;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.custom-radio label.blank {
  padding-left: $radio-width-height;
}

.custom-radio label:before {
  content: "";
  display: inline-block;
  position: absolute;
  height: $radio-width-height;
  width: $radio-width-height;
  top: 0;
  left: 0;
  background-color: $radio-bg-color;
  border: 1px solid $radio-border-color;
  border-radius: $radio-border-radius;
}

.custom-radio input[type="radio"]:hover~label:before {
  background-color: $radio-bg-color;
  border-color: rgba(0, 0, 0, 0.4);
}

.custom-radio input[type="radio"]:focus~label:before {
  border-color: $input-border-color;
  -moz-box-shadow: $input-box-shadow-focus;
  -webkit-box-shadow: $input-box-shadow-focus;
  box-shadow: $input-box-shadow-focus;
}

.custom-radio input[type="radio"]:checked~label:before {
  background-color: var(--secondary-color);
  border-color: var(--secondary-color);
}

.custom-radio input[type="radio"]:checked:focus~label:before {
  border-color: var(--secondary-color);
  -moz-box-shadow: $checkbox-box-shadow-checked-focus;
  -webkit-box-shadow: $checkbox-box-shadow-checked-focus;
  box-shadow: $checkbox-box-shadow-checked-focus;
}

.custom-radio label:after {
  content: "";
  position: absolute;
  display: none;
  top: 0.5rem;
  left: 0.5rem;
  width: $radio-checkmark-width-height;
  height: $radio-checkmark-width-height;
  background-color: #ffffff;
  border-radius: $radio-border-radius;
}

.custom-radio input[type="radio"]:checked~label:after {
  display: block;
}

.custom-radio input[type="radio"]:disabled~label {
  opacity: 0.6;
  cursor: not-allowed;
}

.custom-radio input[type="radio"]:disabled~label:before,
.custom-radio input[type="radio"]:hover:disabled~label:before {
  background-color: $radio-bg-color;
  border-color: $radio-border-color;
}

.custom-radio input[type="radio"]:disabled:checked~label:before,
.custom-radio input[type="radio"]:hover:disabled:checked~label:before {
  background-color: var(--secondary-color);
  border-color: var(--secondary-color);
}

/* Switch */

$switch-width: 3.2rem;
$switch-height: 2rem;

$switch-bg-color: #ffffff;
$switch-border-color: rgba(0, 0, 0, 0.3);

$switch-slider-width-height: 1.2rem;
$switch-slider-top: 0.4rem;
$switch-slider-left: 0.5rem;

$switch-slider-bg-color: rgba(0, 0, 0, 0.2);
/* Transparency used because the background of the switch box is plain white */
$switch-slider-bg-color-checked: #ffffff;

.custom-switch {
  display: block;
  position: relative;
  line-height: $switch-height;
}

.custom-switch input[type="checkbox"] {
  /* Hide the default */
  position: absolute;
  opacity: 0;
  height: 0;
  width: 0;
}

.custom-switch label {
  display: inline-block;
  margin-bottom: 0;
  padding-left: calc(#{$switch-width} + 0.8rem);
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.custom-switch label.blank {
  padding-left: $switch-width;
}

.custom-switch label:before {
  content: "";
  display: inline-block;
  position: absolute;
  height: $switch-height;
  width: $switch-width;
  top: 0;
  left: 0;
  background-color: $switch-bg-color;
  border: 1px solid $switch-border-color;
  border-radius: 2rem;
}

.custom-switch input[type="checkbox"]:hover~label:before {
  background-color: $switch-bg-color;
  border-color: rgba(0, 0, 0, 0.4);
}

.custom-switch input[type="checkbox"]:focus~label:before {
  border-color: $input-border-color;
  -moz-box-shadow: $input-box-shadow-focus;
  -webkit-box-shadow: $input-box-shadow-focus;
  box-shadow: $input-box-shadow-focus;
}

.custom-switch input[type="checkbox"]:checked~label:before {
  background-color: var(--secondary-color);
  border-color: var(--secondary-color);
}

.custom-switch input[type="checkbox"]:checked:focus~label:before {
  border-color: var(--secondary-color);
  -moz-box-shadow: $checkbox-box-shadow-checked-focus;
  -webkit-box-shadow: $checkbox-box-shadow-checked-focus;
  box-shadow: $checkbox-box-shadow-checked-focus;
}

.custom-switch label:after {
  content: "";
  position: absolute;
  height: $switch-slider-width-height;
  width: $switch-slider-width-height;
  top: $switch-slider-top;
  left: $switch-slider-left;
  background-color: $switch-slider-bg-color;
  border: 0 solid $switch-slider-bg-color;
  border-radius: 50%;
  -webkit-transition: left 0.1s;
  transition: left 0.1s;
}

.custom-switch input[type="checkbox"]:checked~label:after {
  top: $switch-slider-top;
  left: calc(#{$switch-width} - #{$switch-slider-width-height} - #{$switch-slider-left});
  background-color: $switch-slider-bg-color-checked;
  border-color: $switch-slider-bg-color-checked;
}

.custom-switch input[type="checkbox"]:disabled~label {
  opacity: 0.6;
  cursor: not-allowed;
}

.custom-switch input[type="checkbox"]:disabled~label:before,
.custom-switch input[type="checkbox"]:hover:disabled~label:before {
  background-color: $switch-bg-color;
  border-color: $switch-border-color;
}

.custom-switch input[type="checkbox"]:disabled:checked~label:before,
.custom-switch input[type="checkbox"]:hover:disabled:checked~label:before {
  background-color: var(--secondary-color);
  border-color: var(--secondary-color);
}

/* Input file */

.custom-file {
  display: block;
  position: relative;
}

.custom-file input[type="file"] {
  /* Hide the default */
  position: absolute;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -1;
  /* Needed to stop the default button from interfering in some browsers, such as Safari */
}

.custom-file label {
  display: inline-block;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  height: $button-height;
  line-height: $button-height;
  padding: $button-padding;
  color: $base-text-color-light;
  background-color: $button-bg-color;
  border: 1px solid var(--button-border-color);
  border-radius: var(--border-radius);
  -moz-box-shadow: $button-box-shadow;
  -webkit-box-shadow: $button-box-shadow;
  box-shadow: $button-box-shadow;
}

.custom-file label:hover {
  color: $base-text-color-light;
  background-color: $gray-color-very-light;
  border-color: var(--button-border-color);
  -moz-box-shadow: $button-box-shadow;
  -webkit-box-shadow: $button-box-shadow;
  box-shadow: $button-box-shadow;
}

.custom-file input[type="file"]:focus~label {
  color: $base-text-color-light;
  background-color: $button-bg-color;
  border-color: $input-border-color;
  -moz-box-shadow: $input-box-shadow-focus;
  -webkit-box-shadow: $input-box-shadow-focus;
  box-shadow: $input-box-shadow-focus;
}

.custom-file input[type="file"]:focus:hover~label {
  /*
    Only text color and background properties are overridden, while the border 
    color, box shadow, and the outline of the focus selector is kept.
    */
  color: $base-text-color-light;
  background-color: $gray-color-very-light;
}

.custom-file input[type="file"]:disabled~label,
.custom-file:hover input[type="file"]:disabled~label {
  opacity: 0.6;
  cursor: not-allowed;
  color: $base-text-color-light;
  background-color: $button-bg-color;
  border-color: var(--button-border-color);
  -moz-box-shadow: none;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.custom-file input[type="file"]:disabled~.file-names {
  opacity: 0.6;
  pointer-events: none;
}

/* Invalid input file */

.form-group.is-invalid .custom-file label,
.custom-file input[type="file"].is-invalid~label {
  color: $base-text-color-light;
  background-color: $button-bg-color;
  border-color: var(--danger-color);
  -moz-box-shadow: $button-box-shadow;
  -webkit-box-shadow: $button-box-shadow;
  box-shadow: $button-box-shadow;
}

.form-group.is-invalid .custom-file label:hover,
.custom-file input[type="file"].is-invalid~label:hover {
  color: $base-text-color-light;
  background-color: $gray-color-very-light;
  border-color: var(--danger-color);
  -moz-box-shadow: $button-box-shadow;
  -webkit-box-shadow: $button-box-shadow;
  box-shadow: $button-box-shadow;
}

.form-group.is-invalid .custom-file input[type="file"]:focus~label,
.custom-file input[type="file"].is-invalid:focus~label {
  color: $base-text-color-light;
  background-color: $button-bg-color;
  border-color: var(--danger-color-very-light);
  -moz-box-shadow: $input-invalid-box-shadow-focus;
  -webkit-box-shadow: $input-invalid-box-shadow-focus;
  box-shadow: $input-invalid-box-shadow-focus;
}

.form-group.is-invalid .custom-file input[type="file"]:focus:hover~label,
.custom-file input[type="file"].is-invalid:focus:hover~label {
  /*
    Only text color and background properties are overridden, while the border 
    color, box shadow, and the outline of the focus selector is kept.
    */
  color: $base-text-color-light;
  background-color: $gray-color-very-light;
}

/* Input group */
/* Input group */
.input-group {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  width: 100%;

  >.form-control {
    position: relative;
    flex: 1 1 0%;
    min-width: 0;
    margin-bottom: 0;
  }

  &-prepend,
  &-append {
    display: flex;

    >.btn {
      position: relative;
      border-color: var(--border-color);
    }
  }

  &.small {
    >.form-control {
      height: $small-input-height;
      padding: 0 $input-horizontal-padding;
      font-size: $small-input-font-size;
    }

    .input-group-text {
      padding: 0 $input-horizontal-padding;
      font-size: $small-input-font-size;
    }
  }

  &.large {
    >.form-control {
      height: $large-input-height;
      padding: 0 $input-horizontal-padding;
      font-size: $large-input-font-size;
    }

    .input-group-text {
      padding: 0 $input-horizontal-padding;
      font-size: $large-input-font-size;
    }
  }
}

/* Input group text */
.input-group-text {
  white-space: nowrap;
  display: flex;
  align-items: center;
  text-align: center;
  height: 100%;
  padding: 0 $input-horizontal-padding;
  color: var(--text-color);
  background-color: var(--body-color);
  border: 1px solid $input-border-color;
  border-radius: var(--border-radius);
  box-shadow: $input-box-shadow;
}

/* Input group button */
.input-group {
  &.small {

    >.input-group-prepend,
    >.input-group-append {
      >.btn {
        height: $small-input-height;
        line-height: $small-input-height;
        padding: 0 $input-horizontal-padding;
        font-size: inherit;
      }

      >.square {
        width: $small-input-height;
        padding-left: 0;
        padding-right: 0;
      }

      >.rounded {
        border-radius: $small-input-height;
      }
    }
  }

  &.large {

    >.input-group-prepend,
    >.input-group-append {
      >.btn {
        height: $large-input-height;
        line-height: $large-input-height;
        padding: 0 $input-horizontal-padding;
        font-size: inherit;
      }

      >.square {
        width: $large-input-height;
        padding-left: 0;
        padding-right: 0;
      }

      >.rounded {
        border-radius: $large-input-height;
      }
    }
  }
}

/* Input group borders */
.input-group {

  >.form-control:not(:first-child),
  &-prepend:not(:first-child)>.input-group-text,
  &-append:not(:first-child)>.input-group-text,
  &-prepend:not(:first-child)>.btn,
  &-append:not(:first-child)>.btn {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  >.form-control:not(:last-child),
  &-prepend:not(:last-child)>.input-group-text,
  &-append:not(:last-child)>.input-group-text,
  &-prepend:not(:last-child)>.btn,
  &-append:not(:last-child)>.btn {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  >.form-control:focus,
  &-prepend>.btn:focus,
  &-prepend>.btn.active,
  &-append>.btn:focus,
  &-append>.btn.active {
    z-index: 1;
  }

  >.form-control:not(:first-child),
  &-prepend:not(:first-child)>.input-group-text,
  &-append:not(:first-child)>.input-group-text,
  &-prepend:not(:first-child)>.btn,
  &-append:not(:first-child)>.btn {
    margin-left: calc((-1) * 1px);
  }
}

/* Buttons (only border colors) */
.input-group-prepend,
.input-group-append {
  >.btn {
    border-color: var(--button-border-color);

    &:hover,
    &:focus,
    &.active {
      border-color: var(--button-border-color);
    }
  }

  >.link {
    border-color: var(--button-border-color);

    &:hover,
    &:focus,
    &.active {
      border-color: var(--button-border-color);
    }
  }

  >.btn {
    &.secondary {
      border-color: var(--secondary-color);

      &:hover {
        border-color: var(--secondary-color-light);
      }

      &:focus,
      &.active {
        border-color: var(--secondary-color);
      }
    }

    &.success {
      border-color: var(--success-color);

      &:hover {
        border-color: var(--success-color-light);
      }

      &:focus,
      &.active {
        border-color: var(--success-color);
      }
    }

    &.muted {
      border-color: $muted-color;

      &:hover {
        border-color: $muted-color-light;
      }

      &:focus,
      &.active {
        border-color: $muted-color;
      }
    }

    &.danger {
      border-color: var(--danger-color);

      &:hover {
        border-color: var(--danger-color-light);
      }

      &:focus,
      &.active {
        border-color: var(--danger-color);
      }
    }
  }
}



.form-group.with-icon {
  position: relative;

  &>.form-icon,
  &>i {
    position: absolute;
    text-align: center;
    top: 50%;
    right: 0px;
    margin: 0em;
    transform: -webkit-translate(0, -50%);
    transform: -moz-translate(0, -50%);
    transform: -ms-translate(0, -50%);
    transform: translate(0, -50%);
    // height: 100%;
    width: 2.6rem;
    opacity: 0.5;
    border-radius: 0em var(--border-radius) var(--border-radius) 0em;

    &[onclick] {
      cursor: pointer;
    }
  }
}

$width: 100%;

.form-group.material {
  position: relative;
  margin: 45px 0;

  textarea {
    resize: none;
  }

  input,
  textarea {
    background: none;
    color: $muted-color;
    font-size: 18px;
    padding: 10px 10px 10px 5px;
    display: block;
    width: $width;
    border: none;
    border-radius: 0;
    border-bottom: 1px solid $muted-color;

    &:focus {
      outline: none;
      box-shadow: none;
    }

    &:focus~label,
    &:valid~label {
      top: -14px;
      font-size: 12px;
      color: $primary-color;
    }

    &:focus~.bar:before {
      width: $width;
    }
  }

  input[type="password"] {
    letter-spacing: 0.3em;
  }

  label {
    color: var(--muted-color);
    font-size: 16px;
    font-weight: normal;
    position: absolute;
    pointer-events: none;
    left: 5px;
    top: 10px;
    transition: 300ms ease all;
  }

  .bar {
    position: relative;
    display: block;

    // width: $width;
    &:before {
      content: "";
      height: 2px;
      width: 0;
      bottom: 0px;
      position: absolute;
      background: $primary-color;
      transition: 300ms ease all;
      left: 0%;
    }
  }

  // // margin-bottom: 35px;
  // // margin-left: 40px;
  // .form-control {
  //     // font-size:18px;
  //     // padding:10px 10px 10px 5px;
  //     // display:block;
  //     // width:300px;
  //     // border:none;
  //     // border-bottom:1px solid #757575;
  //     // &:focus {
  //     //   outline:none;
  //     // }
  // }

  // label {
  //     color: teal;
  //     font-size: 14px;
  //     font-weight: normal;
  //     position: absolute;
  //     top: 0.8rem;
  //     left: .8rem;
  //     pointer-events: none;
  //     transition: 0.2s ease all;

  //     .form-control:placeholder-shown~& {
  //         color: #999;
  //         // left: 0.8rem;
  //         top: 0;
  //     }
  // }
}

.content>.form-row.row-eq-spacing,
.content>.row.row-eq-spacing {
  padding: 0;
  margin: 0 -1rem;
}

.content>.form-row.row-eq-spacing>[class^="col"],
.content>.row.row-eq-spacing>[class^="col"] {
  padding: 1rem !important;
  align-self: baseline;
}


// FLOATING FORMS

// stylelint-disable property-disallowed-list
@mixin transition($transition...) {
  @if length($transition)==0 {
    $transition: $transition-base;
  }

  @if length($transition)>1 {
    @each $value in $transition {
      @if $value ==null or $value ==none {
        @warn "The keyword 'none' or 'null' must be used as a single argument.";
      }
    }
  }

  @if nth($transition, 1) !=null {
    transition: $transition;
  }

}


$input-border-width: $base-border-width;
$form-floating-height: calc(4rem + $input-border-width);
$form-floating-line-height: 1.25;
$form-floating-padding-x: $input-horizontal-padding;
$form-floating-padding-y: 1rem;
$form-floating-input-padding-t: 1.625rem;
$form-floating-input-padding-b: .2rem;
$form-floating-label-opacity: .65;
$form-floating-label-transform: scale(.75) translateY(-.8rem) translateX(.15rem);
$form-floating-transition: opacity .1s ease-in-out, transform .1s ease-in-out;

.floating-title {
  font-size: 85%;
  font-weight: bold;
  color: var(--muted-color);

  small {
    font-weight: normal;
  }

  &.required {
    color: var(--danger-color);
  }
}


.floating-form {
  position: relative;

  >.form-control,
  >.form-select {
    height: $form-floating-height;
    line-height: $form-floating-line-height;
  }

  >label {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%; // allow textareas
    padding: $form-floating-padding-y $form-floating-padding-x;
    pointer-events: none;
    border: $input-border-width solid transparent; // Required for aligning label's text with the input as it affects inner box model
    transform-origin: 0 0;
    @include transition($form-floating-transition);
    color: var(--muted-color);
    overflow: hidden;
    text-wrap: nowrap;

    small {
      font-weight: normal;
    }

    &.required {
      color: var(--danger-color);
    }
  }

  // stylelint-disable no-duplicate-selectors
  >.form-control {
    padding: $form-floating-padding-y $form-floating-padding-x;

    &::placeholder {
      color: transparent;
    }

    &:focus,
    &:not(:placeholder-shown) {
      padding-top: $form-floating-input-padding-t;
      padding-bottom: $form-floating-input-padding-b;
    }

    // Duplicated because `:-webkit-autofill` invalidates other selectors when grouped
    &:-webkit-autofill {
      padding-top: $form-floating-input-padding-t;
      padding-bottom: $form-floating-input-padding-b;
    }

    &.large {
      height: calc($form-floating-height + 0.8rem + 1px);
    }
  }

  >.form-select {
    padding-top: $form-floating-input-padding-t;
    padding-bottom: $form-floating-input-padding-b;
  }

  >.form-control:focus,
  >.form-control:not(:placeholder-shown),
  >.form-select {
    ~label {
      opacity: $form-floating-label-opacity;
      transform: $form-floating-label-transform;
      font-weight: bold;
    }
  }

  // Duplicated because `:-webkit-autofill` invalidates other selectors when grouped
  >.form-control:-webkit-autofill {
    ~label {
      opacity: $form-floating-label-opacity;
      transform: $form-floating-label-transform;
    }
  }

  // stylelint-enable no-duplicate-selectors
}

// .row.row-eq-spacing>[class^=col].floating-form>.form-control:focus~label,
// .row.row-eq-spacing>[class^=col].floating-form>.form-control:not(:placeholder-shown)~label,
// .row.row-eq-spacing>[class^=col].floating-form>.form-select~label {
//   transform: scale(0.75) translateY(-0.8rem) translateX(1.8rem);
// }
.row.row-eq-spacing>[class^=col].floating-form>label {
  padding-left: 1.8rem;
  left: unset;
}

// not first column
.form-row.row-eq-spacing>[class^=col].floating-form:not(:first-child) label {
  left: 1rem;
}

select.form-control[multiple] option {
  padding: .5rem .8rem;
  margin: 0 -.8rem;
}

select.form-control[multiple] option:checked,
select.form-control[multiple] option:focus {
  background-color: var(--primary-color-30);
}

select.form-control[multiple] option:hover {
  background-color: var(--primary-color-20);
}


.list-widget {
  display: flex;
  border: var(--border-width) solid var(--border-color);
  border-radius: var(--border-radius);
  background: white;
  align-items: center;
  min-height: 4rem;
  flex-wrap: wrap;
}

.list-widget-input {
  width: 100%;
  border: none;
  background: none;
  box-shadow: none !important;
  height: 3rem;
  padding: .5rem;
}

.list-widget-input:focus, .list-widget-input:focus-visible {
  outline: none;
}

.list-widget-item {
  display: inline-flex;
  gap: 10px;
  align-items: center;
  margin: .5rem;
  border: var(--border-width) solid var(--border-color);
  border-radius: var(--border-radius);
  background: var(--gray-color-very-light);
  padding: .25rem .5rem;
}

.list-widget-remove {
  cursor: pointer;
  border: none;
  color: var(--danger-color);
  margin-left: .5rem;
  background-color: transparent;
}

// .floating-form > .form-control.large, .floating-form > .form-select.large {
//   height: calc(4.8rem + 1px);
//   line-height: 1.25;
// }